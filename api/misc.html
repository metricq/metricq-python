

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Miscellaneous &mdash; MetricQ  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/typehints.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Metric Metadata" href="../metadata.html" />
    <link rel="prev" title="Common client operation" href="client-common.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> MetricQ
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../howto/index.html">How to use this library</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="sink.html">Sink</a></li>
<li class="toctree-l2"><a class="reference internal" href="source.html">Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="history-client.html">History Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="client-common.html">Common client operation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Miscellaneous</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#timestamps">Timestamps</a></li>
<li class="toctree-l3"><a class="reference internal" href="#timedeltas-durations">Timedeltas (Durations)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#time-value-pairs-and-aggregates">Time-value pairs and aggregates</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rpc-handling">RPC handling</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../metadata.html">Metric Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MetricQ</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">API Reference</a> &raquo;</li>
        
      <li>Miscellaneous</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/misc.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="miscellaneous">
<h1>Miscellaneous<a class="headerlink" href="#miscellaneous" title="Permalink to this headline">¶</a></h1>
<div class="section" id="timestamps">
<h2>Timestamps<a class="headerlink" href="#timestamps" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="metricq.Timestamp">
<em class="property">class </em><code class="sig-prename descclassname">metricq.</code><code class="sig-name descname">Timestamp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nanoseconds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#metricq.Timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>A MetricQ Timestamp</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>nanoseconds</strong> : <span class="annotation terse"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span><span class="annotation full"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span></dt><dd><p>number of nanoseconds elapsed since the UNIX epoch</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt id="metricq.Timestamp.__add__">
<code class="sig-name descname">__add__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">delta</span></em><span class="sig-paren">)</span><a class="headerlink" href="#metricq.Timestamp.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the timestamp <cite>delta</cite> in the future (or in the past, if <cite>delta</cite> is negative), relative to a <a class="reference internal" href="#metricq.Timestamp" title="metricq.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> instance.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">epoch</span> <span class="o">=</span> <span class="n">Timestamp</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a_week_later</span> <span class="o">=</span> <span class="n">epoch</span> <span class="o">+</span> <span class="n">Timedelta</span><span class="o">.</span><span class="n">from_string</span><span class="p">(</span><span class="s2">&quot;7 days&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">a_week_later</span><span class="p">)</span>
<span class="go">&#39;[604800000000000] 1970-01-08 01:00:00+01:00&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>delta</strong> : <span class="annotation terse"><a class="reference internal" href="#metricq.Timedelta" title="metricq.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a></span><span class="annotation full"><a class="reference internal" href="#metricq.Timedelta" title="metricq.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a></span></dt><dd><p>a time duration, possibly negative</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#metricq.Timestamp" title="metricq.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="metricq.Timestamp.__eq__">
<code class="sig-name descname">__eq__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#metricq.Timestamp.__eq__" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether two <a class="reference internal" href="#metricq.Timestamp" title="metricq.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamps</span></code></a> refer to the same instance of time:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">now</span> <span class="o">=</span> <span class="n">Timestamp</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">later</span> <span class="o">=</span> <span class="n">now</span> <span class="o">+</span> <span class="n">Timedelta</span><span class="o">.</span><span class="n">from_s</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">now</span> <span class="o">==</span> <span class="n">later</span>
<span class="go">False</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>other</strong> : <span class="annotation terse"><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></span><span class="annotation full"><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></span></dt><dd><p>another timestamp</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="metricq.Timestamp.__lt__">
<code class="sig-name descname">__lt__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="headerlink" href="#metricq.Timestamp.__lt__" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare whether this timestamp describes a time before another timestamp.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">now</span> <span class="o">=</span> <span class="n">Timestamp</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">later</span> <span class="o">=</span> <span class="n">now</span> <span class="o">+</span> <span class="n">Timedelta</span><span class="o">.</span><span class="n">from_s</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">now</span> <span class="o">&lt;</span> <span class="n">later</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Together with <a class="reference internal" href="#metricq.Timestamp.__eq__" title="metricq.Timestamp.__eq__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__eq__()</span></code></a>, all relational operations (<code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">!=</span></code>, etc.) are supported.
Timestamps are <cite>totally ordered</cite> (as supplied by <a class="reference external" href="https://docs.python.org/3/library/functools.html#functools.total_ordering" title="(in Python v3.9)"><code class="docutils literal notranslate"><span class="pre">functools.total_ordering()</span></code></a>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>other</strong> : <span class="annotation terse"><a class="reference internal" href="#metricq.Timestamp" title="metricq.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a></span><span class="annotation full"><a class="reference internal" href="#metricq.Timestamp" title="metricq.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a></span></dt><dd><p>another timestamp</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="metricq.Timestamp.__str__">
<code class="sig-name descname">__str__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#metricq.Timestamp.__str__" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield a human-readable date-time string in the local timezone:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># in UTC+01:00, it was already 1 in the night when the UNIX epoch happened</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">Timestamp</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="go">&#39;[0] 1970-01-01 01:00:00+01:00&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="metricq.Timestamp.ago">
<em class="property">classmethod </em><code class="sig-name descname">ago</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">delta</span></em><span class="sig-paren">)</span><a class="headerlink" href="#metricq.Timestamp.ago" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a timestamp <cite>delta</cite> in the past.</p>
<p>This is equivalent to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Timestamp</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="n">delta</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><a class="reference internal" href="#metricq.Timestamp" title="metricq.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="metricq.Timestamp.datetime">
<code class="sig-name descname">datetime</code><a class="headerlink" href="#metricq.Timestamp.datetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an aware UTC datetime object</p>
<p>All MetricQ timestamps are POSIX timestamps, hence UTC.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><span class="annotation terse"><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a></span><span class="annotation full"><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="metricq.Timestamp.from_datetime">
<em class="property">classmethod </em><code class="sig-name descname">from_datetime</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dt</span></em><span class="sig-paren">)</span><a class="headerlink" href="#metricq.Timestamp.from_datetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Timestamp from an aware datetime object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>dt</strong> : <span class="annotation terse"><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a></span><span class="annotation full"><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a></span></dt><dd><p>an aware datetime object</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#metricq.Timestamp" title="metricq.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="metricq.Timestamp.from_iso8601">
<em class="property">classmethod </em><code class="sig-name descname">from_iso8601</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iso_string</span></em><span class="sig-paren">)</span><a class="headerlink" href="#metricq.Timestamp.from_iso8601" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Timestamp from an <strong>UTC</strong> <cite>ISO 8601</cite> date-time string:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Timestamp</span><span class="o">.</span><span class="n">from_iso8601</span><span class="p">(</span><span class="s2">&quot;1970-01-01T00:00:00.0Z&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="n">Timestamp</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>iso_string</strong> : <span class="annotation terse"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span><span class="annotation full"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>a date-time string matching the format <code class="docutils literal notranslate"><span class="pre">%Y-%m-%dT%H:%M:%S.%fZ</span></code>, see <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime.strptime" title="(in Python v3.9)"><code class="docutils literal notranslate"><span class="pre">datetime.datetime.strptime()</span></code></a></p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#metricq.Timestamp" title="metricq.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="metricq.Timestamp.from_now">
<em class="property">classmethod </em><code class="sig-name descname">from_now</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">delta</span></em><span class="sig-paren">)</span><a class="headerlink" href="#metricq.Timestamp.from_now" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a timestamp <cite>delta</cite> in the future.</p>
<p>This is equivalent to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Timestamp</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="n">delta</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><a class="reference internal" href="#metricq.Timestamp" title="metricq.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="metricq.Timestamp.from_posix_seconds">
<em class="property">classmethod </em><code class="sig-name descname">from_posix_seconds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">seconds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#metricq.Timestamp.from_posix_seconds" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Timestamp from a POSIX timestamp</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>seconds</strong> : <span class="annotation terse"><a class="reference external" href="https://docs.python.org/3/library/numbers.html#numbers.Real" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Real</span></code></a></span><span class="annotation full"><a class="reference external" href="https://docs.python.org/3/library/numbers.html#numbers.Real" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Real</span></code></a></span></dt><dd><p>number of seconds since the UNIX epoch</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#metricq.Timestamp" title="metricq.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="metricq.Timestamp.now">
<em class="property">classmethod </em><code class="sig-name descname">now</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#metricq.Timestamp.now" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a Timestamp corresponding to “now”</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><a class="reference internal" href="#metricq.Timestamp" title="metricq.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="metricq.Timestamp.posix">
<code class="sig-name descname">posix</code><a class="headerlink" href="#metricq.Timestamp.posix" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of seconds since the UNIX epoch</p>
</dd></dl>

<dl class="py method">
<dt id="metricq.Timestamp.posix_ms">
<code class="sig-name descname">posix_ms</code><a class="headerlink" href="#metricq.Timestamp.posix_ms" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of milliseconds since the UNIX epoch</p>
</dd></dl>

<dl class="py method">
<dt id="metricq.Timestamp.posix_ns">
<code class="sig-name descname">posix_ns</code><a class="headerlink" href="#metricq.Timestamp.posix_ns" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of nanoseconds since the UNIX epoch</p>
</dd></dl>

<dl class="py method">
<dt id="metricq.Timestamp.posix_us">
<code class="sig-name descname">posix_us</code><a class="headerlink" href="#metricq.Timestamp.posix_us" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of microseconds since the UNIX epoch</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="timedeltas-durations">
<h2>Timedeltas (Durations)<a class="headerlink" href="#timedeltas-durations" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="metricq.Timedelta">
<em class="property">class </em><code class="sig-prename descclassname">metricq.</code><code class="sig-name descname">Timedelta</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nanoseconds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#metricq.Timedelta" title="Permalink to this definition">¶</a></dt>
<dd><p>A (possibly negative) duration of time</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>nanoseconds</strong> : <span class="annotation terse"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span><span class="annotation full"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span></dt><dd><p>duration in nanoseconds</p>
</dd>
</dl>
</dd>
</dl>
<dl>
<dt>Supported operations:</dt><dd><table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 33%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Operation</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Result</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">d1</span> <span class="pre">+</span> <span class="pre">d2</span></code></p></td>
<td><ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">d1</span></code>, <code class="code docutils literal notranslate"><span class="pre">d2</span></code>: <a class="reference internal" href="#metricq.Timedelta" title="metricq.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a></p></li>
</ul>
</td>
<td><p>the sum of the duration of <code class="code docutils literal notranslate"><span class="pre">d1</span></code> and <code class="code docutils literal notranslate"><span class="pre">d2</span></code> as a <a class="reference internal" href="#metricq.Timedelta" title="metricq.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a> object</p></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">d</span> <span class="pre">+</span> <span class="pre">dt</span></code></p></td>
<td><ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">d</span></code>: <a class="reference internal" href="#metricq.Timedelta" title="metricq.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">dt</span></code>: <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.9)"><code class="docutils literal notranslate"><span class="pre">datetime.timedelta</span></code></a></p></li>
</ul>
</td>
<td><p>the combined duration of <code class="code docutils literal notranslate"><span class="pre">d</span></code> and
<code class="code docutils literal notranslate"><span class="pre">Timedelta.from_timedelta(dt)</span></code> as a <a class="reference internal" href="#metricq.Timedelta" title="metricq.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a> object</p></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">d</span> <span class="pre">+</span> <span class="pre">t</span></code></p></td>
<td><ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">d</span></code>: <a class="reference internal" href="#metricq.Timedelta" title="metricq.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">t</span></code>: <a class="reference internal" href="#metricq.Timestamp" title="metricq.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a></p></li>
</ul>
</td>
<td><p>a <a class="reference internal" href="#metricq.Timestamp" title="metricq.Timestamp"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code></a> offset by duration <code class="code docutils literal notranslate"><span class="pre">d</span></code>
(the same as <code class="code docutils literal notranslate"><span class="pre">t</span> <span class="pre">+</span> <span class="pre">d</span></code>, see <a class="reference internal" href="#metricq.Timestamp.__add__" title="metricq.Timestamp.__add__"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp.__add__</span></code></a>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">d1</span> <span class="pre">==</span> <span class="pre">d2</span></code></p></td>
<td><ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">d1</span></code>, <code class="code docutils literal notranslate"><span class="pre">d2</span></code>: <a class="reference internal" href="#metricq.Timedelta" title="metricq.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a></p></li>
</ul>
</td>
<td><p><code class="code docutils literal notranslate"><span class="pre">True</span></code> if <code class="code docutils literal notranslate"><span class="pre">d1</span></code> and <code class="code docutils literal notranslate"><span class="pre">d2</span></code> describe the same duration of time</p></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">d</span> <span class="pre">==</span> <span class="pre">dt</span></code></p></td>
<td><ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">d</span></code>: <a class="reference internal" href="#metricq.Timedelta" title="metricq.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">dt</span></code>: <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.9)"><code class="docutils literal notranslate"><span class="pre">datetime.timedelta</span></code></a></p></li>
</ul>
</td>
<td><p><code class="code docutils literal notranslate"><span class="pre">True</span></code> if <code class="code docutils literal notranslate"><span class="pre">d.datetime</span> <span class="pre">==</span> <span class="pre">dt</span></code>
(see <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.9)"><code class="docutils literal notranslate"><span class="pre">datetime.timedelta</span></code></a>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">d1</span> <span class="pre">&lt;</span> <span class="pre">d2</span></code></p></td>
<td><ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">d1</span></code>, <code class="code docutils literal notranslate"><span class="pre">d2</span></code>: <a class="reference internal" href="#metricq.Timedelta" title="metricq.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a></p></li>
</ul>
</td>
<td><p><code class="code docutils literal notranslate"><span class="pre">True</span></code> if <code class="code docutils literal notranslate"><span class="pre">d1</span></code> is shorter than <code class="code docutils literal notranslate"><span class="pre">d2</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">d</span> <span class="pre">&lt;</span> <span class="pre">dt</span></code></p></td>
<td><ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">d</span></code>: <a class="reference internal" href="#metricq.Timedelta" title="metricq.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">dt</span></code>: <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.9)"><code class="docutils literal notranslate"><span class="pre">datetime.timedelta</span></code></a></p></li>
</ul>
</td>
<td><p><code class="code docutils literal notranslate"><span class="pre">True</span></code> if <code class="code docutils literal notranslate"><span class="pre">d.datetime</span> <span class="pre">&lt;</span> <span class="pre">dt</span></code>
(see <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.9)"><code class="docutils literal notranslate"><span class="pre">datetime.timedelta</span></code></a>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">d</span> <span class="pre">*</span> <span class="pre">c</span></code>,</p>
<p><code class="code docutils literal notranslate"><span class="pre">d</span> <span class="pre">/</span> <span class="pre">c</span></code></p>
</td>
<td><ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">d</span></code>: <a class="reference internal" href="#metricq.Timedelta" title="metricq.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">d</span></code>: <a class="reference internal" href="#metricq.Timedelta" title="metricq.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a></p></li>
</ul>
</td>
<td><p>the same as <code class="code docutils literal notranslate"><span class="pre">Timedelta(d.ns</span> <span class="pre">*</span> <span class="pre">c)</span></code>
the same as <code class="code docutils literal notranslate"><span class="pre">Timedelta(d.ns</span> <span class="pre">*</span> <span class="pre">c)</span></code></p></td>
</tr>
</tbody>
</table>
<p>In addition to <code class="code docutils literal notranslate"><span class="pre">&lt;</span></code> and <code class="code docutils literal notranslate"><span class="pre">=</span></code>, all other relational operations are supported and behave as you would expect.</p>
</dd>
</dl>
<dl class="py method">
<dt id="metricq.Timedelta.__str__">
<code class="sig-name descname">__str__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#metricq.Timedelta.__str__" title="Permalink to this definition">¶</a></dt>
<dd><p>A string containing the number of seconds of this duration</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;One day has </span><span class="si">{}</span><span class="s2"> seconds&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">Timedelta</span><span class="o">.</span><span class="n">from_string</span><span class="p">(</span><span class="s2">&quot;1 day&quot;</span><span class="p">))</span>
<span class="go">&#39;One day has 86400.0s seconds&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="metricq.Timedelta.from_ms">
<em class="property">staticmethod </em><code class="sig-name descname">from_ms</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">milliseconds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#metricq.Timedelta.from_ms" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a duration from a number of milliseconds</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>milliseconds</strong> : <span class="annotation terse"><a class="reference external" href="https://docs.python.org/3/library/numbers.html#numbers.Real" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Real</span></code></a></span><span class="annotation full"><a class="reference external" href="https://docs.python.org/3/library/numbers.html#numbers.Real" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Real</span></code></a></span></dt><dd><p>number of milliseconds</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <a class="reference internal" href="#metricq.Timedelta" title="metricq.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a> object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="metricq.Timedelta.from_s">
<em class="property">staticmethod </em><code class="sig-name descname">from_s</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">seconds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#metricq.Timedelta.from_s" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a duration from a number of seconds</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>seconds</strong> : <span class="annotation terse"><a class="reference external" href="https://docs.python.org/3/library/numbers.html#numbers.Real" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Real</span></code></a></span><span class="annotation full"><a class="reference external" href="https://docs.python.org/3/library/numbers.html#numbers.Real" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Real</span></code></a></span></dt><dd><p>number of seconds</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <a class="reference internal" href="#metricq.Timedelta" title="metricq.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a> object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="metricq.Timedelta.from_string">
<em class="property">staticmethod </em><code class="sig-name descname">from_string</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">duration_str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#metricq.Timedelta.from_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a human-readable string representation of a duration.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;One day has </span><span class="si">{}</span><span class="s2"> seconds&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">Timedelta</span><span class="o">.</span><span class="n">from_string</span><span class="p">(</span><span class="s2">&quot;1 day&quot;</span><span class="p">))</span>
<span class="go">&#39;One day has 86400.0s seconds&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>duration_str</strong> : <span class="annotation terse"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span><span class="annotation full"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p><p>A duration string in the form of “<cite>&lt;number&gt; &lt;unit&gt;</cite>”.
Accepted units are:</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 21%" />
<col style="width: 16%" />
<col style="width: 64%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>short</p></th>
<th class="head"><p>long</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Seconds</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;s&quot;</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;second&quot;</span></code>,      <code class="docutils literal notranslate"><span class="pre">&quot;seconds&quot;</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Milliseconds</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;ms&quot;</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;millisecond&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;milliseconds&quot;</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Microseconds</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;us&quot;</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;microsecond&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;microseconds&quot;</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Nanoseconds</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;ns&quot;</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;nanosecond&quot;</span></code>,  <code class="docutils literal notranslate"><span class="pre">&quot;nanoseconds&quot;</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Minutes</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;min&quot;</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;minute&quot;</span></code>,      <code class="docutils literal notranslate"><span class="pre">&quot;minutes&quot;</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Hours</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;h&quot;</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;hour&quot;</span></code>,        <code class="docutils literal notranslate"><span class="pre">&quot;hours&quot;</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Days</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;d&quot;</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;day&quot;</span></code>,         <code class="docutils literal notranslate"><span class="pre">&quot;days&quot;</span></code></p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The parsed <a class="reference internal" href="#metricq.Timedelta" title="metricq.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a> object</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – if the string is not of the correct format or an invalid unit was specified</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="metricq.Timedelta.from_timedelta">
<em class="property">staticmethod </em><code class="sig-name descname">from_timedelta</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">delta</span></em><span class="sig-paren">)</span><a class="headerlink" href="#metricq.Timedelta.from_timedelta" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert from a standard <code class="docutils literal notranslate"><span class="pre">timedelta</span></code> object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>delta</strong> : <span class="annotation terse"><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">timedelta</span></code></a></span><span class="annotation full"><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">timedelta</span></code></a></span></dt><dd><p>a standard <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.9)"><code class="docutils literal notranslate"><span class="pre">datetime.timedelta</span></code></a> object</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <a class="reference internal" href="#metricq.Timedelta" title="metricq.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a> object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="metricq.Timedelta.from_us">
<em class="property">staticmethod </em><code class="sig-name descname">from_us</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">microseconds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#metricq.Timedelta.from_us" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a duration from a number of microseconds</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>microseconds</strong> : <span class="annotation terse"><a class="reference external" href="https://docs.python.org/3/library/numbers.html#numbers.Real" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Real</span></code></a></span><span class="annotation full"><a class="reference external" href="https://docs.python.org/3/library/numbers.html#numbers.Real" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Real</span></code></a></span></dt><dd><p>number of microseconds</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <a class="reference internal" href="#metricq.Timedelta" title="metricq.Timedelta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Timedelta</span></code></a> object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="metricq.Timedelta.ms">
<code class="sig-name descname">ms</code><a class="headerlink" href="#metricq.Timedelta.ms" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of milliseconds in this duration</p>
</dd></dl>

<dl class="py method">
<dt id="metricq.Timedelta.ns">
<code class="sig-name descname">ns</code><a class="headerlink" href="#metricq.Timedelta.ns" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of nanoseconds in this duration</p>
</dd></dl>

<dl class="py method">
<dt id="metricq.Timedelta.s">
<code class="sig-name descname">s</code><a class="headerlink" href="#metricq.Timedelta.s" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of seconds in this duration</p>
</dd></dl>

<dl class="py method">
<dt id="metricq.Timedelta.timedelta">
<code class="sig-name descname">timedelta</code><a class="headerlink" href="#metricq.Timedelta.timedelta" title="Permalink to this definition">¶</a></dt>
<dd><p>This duration as a standard <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.9)"><code class="docutils literal notranslate"><span class="pre">datetime.timedelta</span></code></a> object</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><span class="annotation terse"><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">timedelta</span></code></a></span><span class="annotation full"><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">timedelta</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="metricq.Timedelta.us">
<code class="sig-name descname">us</code><a class="headerlink" href="#metricq.Timedelta.us" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of microseconds in this duration</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="time-value-pairs-and-aggregates">
<h2>Time-value pairs and aggregates<a class="headerlink" href="#time-value-pairs-and-aggregates" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="metricq.TimeValue">
<em class="property">class </em><code class="sig-prename descclassname">metricq.</code><code class="sig-name descname">TimeValue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timestamp</span></em>, <em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#metricq.TimeValue" title="Permalink to this definition">¶</a></dt>
<dd><p>A <cite>timestamp-value</cite> pair.</p>
<p>Unpack it like so:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tv</span> <span class="o">=</span> <span class="n">TimeValue</span><span class="p">(</span><span class="n">Timestamp</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span> <span class="mf">42.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> <span class="o">=</span> <span class="n">tv</span>
</pre></div>
</div>
<dl class="py attribute">
<dt id="metricq.TimeValue.timestamp">
<code class="sig-name descname">timestamp</code><a class="headerlink" href="#metricq.TimeValue.timestamp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="metricq.TimeValue.value">
<code class="sig-name descname">value</code><a class="headerlink" href="#metricq.TimeValue.value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="metricq.TimeAggregate">
<em class="property">class </em><code class="sig-prename descclassname">metricq.</code><code class="sig-name descname">TimeAggregate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timestamp</span></em>, <em class="sig-param"><span class="n">minimum</span></em>, <em class="sig-param"><span class="n">maximum</span></em>, <em class="sig-param"><span class="n">sum</span></em>, <em class="sig-param"><span class="n">count</span></em>, <em class="sig-param"><span class="n">integral</span></em>, <em class="sig-param"><span class="n">active_time</span></em><span class="sig-paren">)</span><a class="headerlink" href="#metricq.TimeAggregate" title="Permalink to this definition">¶</a></dt>
<dd><p>Summary of a metric’s values within a certain period of time.</p>
<dl class="py attribute">
<dt id="metricq.TimeAggregate.timestamp">
<code class="sig-name descname">timestamp</code><a class="headerlink" href="#metricq.TimeAggregate.timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>starting time of this aggregate</p>
</dd></dl>

<dl class="py attribute">
<dt id="metricq.TimeAggregate.minimum">
<code class="sig-name descname">minimum</code><a class="headerlink" href="#metricq.TimeAggregate.minimum" title="Permalink to this definition">¶</a></dt>
<dd><p>minimum value</p>
</dd></dl>

<dl class="py attribute">
<dt id="metricq.TimeAggregate.maximum">
<code class="sig-name descname">maximum</code><a class="headerlink" href="#metricq.TimeAggregate.maximum" title="Permalink to this definition">¶</a></dt>
<dd><p>maximum value</p>
</dd></dl>

<dl class="py attribute">
<dt id="metricq.TimeAggregate.sum">
<code class="sig-name descname">sum</code><a class="headerlink" href="#metricq.TimeAggregate.sum" title="Permalink to this definition">¶</a></dt>
<dd><p>sum of all values</p>
</dd></dl>

<dl class="py attribute">
<dt id="metricq.TimeAggregate.count">
<code class="sig-name descname">count</code><a class="headerlink" href="#metricq.TimeAggregate.count" title="Permalink to this definition">¶</a></dt>
<dd><p>total number of values</p>
</dd></dl>

<dl class="py attribute">
<dt id="metricq.TimeAggregate.integral">
<code class="sig-name descname">integral</code><a class="headerlink" href="#metricq.TimeAggregate.integral" title="Permalink to this definition">¶</a></dt>
<dd><p>integral of all values over the whole period</p>
</dd></dl>

<dl class="py attribute">
<dt id="metricq.TimeAggregate.active_time">
<code class="sig-name descname">active_time</code><a class="headerlink" href="#metricq.TimeAggregate.active_time" title="Permalink to this definition">¶</a></dt>
<dd><p>time spanned by this aggregate in nanoseconds</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="rpc-handling">
<h2>RPC handling<a class="headerlink" href="#rpc-handling" title="Permalink to this headline">¶</a></h2>
<dl class="py decorator">
<dt id="metricq.rpc_handler">
<code class="sig-prename descclassname">&#64;</code><code class="sig-prename descclassname">metricq.</code><code class="sig-name descname">rpc_handler</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">function_tags</span></em><span class="sig-paren">)</span><a class="headerlink" href="#metricq.rpc_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>A Decorator to mark an <code class="code docutils literal notranslate"><span class="pre">async</span></code> method as an RPC handler</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>function_tags</strong> : <span class="annotation terse"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span><span class="annotation full"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>The names of the RPCs that this method should handle</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">metricq</span> <span class="kn">import</span> <span class="n">Source</span><span class="p">,</span> <span class="n">rpc_handler</span>

<span class="k">class</span> <span class="nc">MySource</span><span class="p">(</span><span class="n">Source</span><span class="p">):</span>

    <span class="o">...</span>

    <span class="nd">@rpc_handler</span><span class="p">(</span><span class="s2">&quot;config&quot;</span><span class="p">)</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">on_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Received configuration: </span><span class="si">{</span><span class="n">config</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="o">...</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This only has an effect on methods of classes implementing MetricQ clients (see <a class="reference internal" href="client-common.html#metricq.Client" title="metricq.Client"><code class="xref py py-class docutils literal notranslate"><span class="pre">Client</span></code></a>),
i.e. <a class="reference internal" href="sink.html#metricq.Sink" title="metricq.Sink"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sink</span></code></a>, <a class="reference internal" href="source.html#metricq.Source" title="metricq.Source"><code class="xref py py-class docutils literal notranslate"><span class="pre">Source</span></code></a>, <a class="reference internal" href="source.html#metricq.IntervalSource" title="metricq.IntervalSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntervalSource</span></code></a>, <a class="reference internal" href="history-client.html#metricq.HistoryClient" title="metricq.HistoryClient"><code class="xref py py-class docutils literal notranslate"><span class="pre">HistoryClient</span></code></a>, etc.</p>
</div>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../metadata.html" class="btn btn-neutral float-right" title="Metric Metadata" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="client-common.html" class="btn btn-neutral float-left" title="Common client operation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, TU Dresden

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>